<template component="editor">
  <div id="container" style="width:800px;height:600px;border:1px solid grey"></div>
  <div ref="editor" css="h-4xl w-4xl"></div>
  <script type="text/javascript" src="./vs/loader.js"></script>
  <script>
    require.config({ paths: { 'vs': $dir + '/vs' } });
    window.MonacoEnvironment = {
      getWorkerUrl: function (workerId, label) {
        return $dir + '/monaco-editor-worker-loader-proxy.js';
      }
    };
    require(["vs/editor/editor.main"], function () {
      var editor = monaco.editor.create($ref('editor'), {
        value: $props.value || [
          'function x() {',
          '\tconsole.log("Hello world!");',
          '}'
        ].join('\n'),
        language: $props.language || 'javascript',
      });
    });
  </script>

</template>