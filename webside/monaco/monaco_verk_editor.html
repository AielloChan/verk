<div class="col pc:row start-start h-12/12 w-12/12">
  <v-new class="full" src="./monaco_editor.html" props="$hook.editorProps">
    <div loading class="full col center-center c-gray-700 bg-gray-100 fs-sm">
      Loading Editor...
    </div>
  </v-new>
  <v-show
    value="!$hook.props.hiddenView"
    class="full pl-sm pt-sm overflow-auto mini-scrollbar"
  >
  </v-show>
</div>
<script>
  $hook.editorProps = {
    // time: 10,
    setValue: function (cb) {
      cb();
    },
    onChange: function (code) {
      if (!$hook.props["hidden-view"]) {
        const el = $hook.el.querySelector("[runner]");
        // code.replace(/(\$hook|verk-)/g, Date.now());
        el.innerHTML = code;
        // $verk.updateInnerHTML(el, true);
      }
    },
    options: {
      value: "<div>hello</div>",
      language: "html",
      ...$hook.props.options,
    },
    onMount: function (state) {
      if ($hook.props.getValue) {
        Promise.resolve($hook.props.getValue).then(function (v) {
          $hook.editorProps.onChange(v);
        });
      } else {
        const v = $hook.editorProps.options.value;
        $hook.editorProps.onChange(v);
      }
    },
  };
</script>
