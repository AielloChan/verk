<template fetch="./editor.html"></template>
<template component="monaco_live">
  <div css="row start-start h-12/12 w-12/12">
    <template init="monaco_editor" props="$state">
      <div loading>loading...</div>
    </template>
    <div ref="runner" css="w-12/12 h-12/12"></div>
  </div>
  <script>
    const state = {
      time: 500,
      onChange: function (code) {
        $ref("runner").innerHTML = code;
        $verk.update($ref("runner"));
      },
      options: {
        value: "<div>hello</div>",
        language: "html",
        ...$props.options,
      },
      $mount: function () {
        const el = $ref("runner");
        // state.options.value = $ref("value").innerHTML.trim();
        el.innerHTML = state.options.value;
        try {
          $verk.update($ref("runner"));
        } catch (err) {}
      },
    };
    return state;
  </script>
</template>


<!-- 
<template init="dog"></template>
<template component="dog" live-component>
  <div show="$state.hello">hello verk</div>
  <script>
    return {
      hello: true,
    };
  </script>
</template>

 -->
